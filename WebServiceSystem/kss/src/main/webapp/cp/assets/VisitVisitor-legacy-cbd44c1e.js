System.register(["./index-legacy-a60600c8.js","./duration-legacy-0f8f7560.js","./stat-legacy-7d9ec08d.js"],(function(t,a){"use strict";var e,u,s,l,n,r,i,o,v,d,c,p,f,y,m,_,g,x;return{setters:[t=>{e=t.d,u=t.U,s=t.r,l=t.o,n=t.b,r=t.e,i=t.I,o=t.k,v=t.i,d=t.w,c=t.ag,p=t.ah,f=t.l,y=t.t,m=t.j,_=t.a0},t=>{g=t.d},t=>{x=t.b}],execute:function(){const a={class:"p-3 mt-3 app-block"},Y={class:"flex p-3 mt-3 justify-evenly app-block"},C={class:"h-64 w-60 text-primary"},k={class:"mt-2 text-center"},$={class:"flex items-center justify-center mt-2"},b={class:"text-3xl"},D={key:0},h={key:1},V={class:"mt-4 space-y-2 text-sm"},M={key:0},w={key:1},j={key:0},H={key:1},P={key:0},R={key:1},U={class:"h-64 w-60 text-gray-secondary"},B={class:"mt-2 text-center"},I={class:"flex items-center justify-center mt-2"},S={class:"text-3xl"},q={key:0},z={key:1},A={class:"mt-4 space-y-2 text-sm"},E={key:0},F={key:1},G={key:0},J={key:1},K={key:0},L={key:1};t("default",e({__name:"VisitVisitor",setup(t){u.extend(g);const e=s("last30day"),N=t=>{switch(t){case"today":return u().format("YYYY-MM-DD");case"yesterday":return u().subtract(1,"day").format("YYYY-MM-DD");case"last7day":return u().subtract(6,"day").format("YYYY-MM-DD");case"last30day":return u().subtract(29,"day").format("YYYY-MM-DD");case"lastYear":return u().subtract(1,"year").format("YYYY-MM-DD");default:return}},O=t=>"yesterday"===t?u().subtract(1,"day").format("YYYY-MM-DD"):u().format("YYYY-MM-DD"),Q=s({}),T=s({}),W=async t=>{const a=await x({begin:N(t),end:O(t)});Q.value=a.newVisitor,T.value=a.oldVisitor;const e=Q.value.uvCount+T.value.uvCount;e>0?(Q.value.proportion=100*Q.value.uvCount/e,T.value.proportion=100*T.value.uvCount/e):(Q.value.proportion=50,T.value.proportion=50)};return l((async()=>{W(e.value)})),(t,s)=>{const l=n("el-radio-button"),g=n("el-radio-group"),x=n("el-icon"),N=n("el-col"),O=n("el-row");return r(),i("div",null,[o("div",a,[o("div",null,[v(g,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=t=>e.value=t),onChange:s[1]||(s[1]=t=>W(t))},{default:d((()=>[(r(),i(c,null,p(["today","yesterday","last7day","last30day","lastYear","all"],(a=>v(l,{key:a,label:a},{default:d((()=>[f(y(t.$t(`visit.${a}`)),1)])),_:2},1032,["label"]))),64))])),_:1},8,["modelValue"])]),o("div",Y,[o("div",C,[o("div",k,y(t.$t("visitVisitor.newVisitor")),1),o("div",$,[v(x,{class:"text-5xl"},{default:d((()=>[v(m(_))])),_:1}),o("span",b,[Q.value.uvCount>0?(r(),i("span",D,y(t.$n(Q.value.proportion??0,"decimal")),1)):(r(),i("span",h,"0")),f("% ")])]),o("div",V,[v(O,{gutter:24},{default:d((()=>[v(N,{span:12,class:"text-right"},{default:d((()=>[f(y(t.$t("visitVisitor.pv")),1)])),_:1}),v(N,{span:12},{default:d((()=>[f(y(Q.value.pvCount),1)])),_:1})])),_:1}),v(O,{gutter:24},{default:d((()=>[v(N,{span:12,class:"text-right"},{default:d((()=>[f(y(t.$t("visitVisitor.uv")),1)])),_:1}),v(N,{span:12},{default:d((()=>[f(y(Q.value.uvCount),1)])),_:1})])),_:1}),v(O,{gutter:24},{default:d((()=>[v(N,{span:12,class:"text-right"},{default:d((()=>[f(y(t.$t("visit.bounceRate")),1)])),_:1}),v(N,{span:12},{default:d((()=>[Q.value.uvCount>0?(r(),i("span",M,y(t.$n(100*Q.value.bounceCount/Q.value.uvCount,"decimal"))+"%",1)):(r(),i("span",w,"-"))])),_:1})])),_:1}),v(O,{gutter:24},{default:d((()=>[v(N,{span:12,class:"text-right"},{default:d((()=>[f(y(t.$t("visit.averageDuration")),1)])),_:1}),v(N,{span:12},{default:d((()=>[Q.value.uvCount>0?(r(),i("span",j,y(m(u).duration(Q.value.duration/Q.value.uvCount,"seconds").format("HH:mm:ss")),1)):(r(),i("span",H,"-"))])),_:1})])),_:1}),v(O,{gutter:24},{default:d((()=>[v(N,{span:12,class:"text-right"},{default:d((()=>[f(y(t.$t("visit.averagePv")),1)])),_:1}),v(N,{span:12},{default:d((()=>[Q.value.uvCount>0?(r(),i("span",P,y(t.$n(Q.value.pvCount/Q.value.uvCount,"decimal")),1)):(r(),i("span",R,"-"))])),_:1})])),_:1})])]),o("div",U,[o("div",B,y(t.$t("visitVisitor.oldVisitor")),1),o("div",I,[v(x,{class:"text-5xl"},{default:d((()=>[v(m(_))])),_:1}),o("span",S,[T.value.uvCount>0?(r(),i("span",q,y(t.$n(T.value.proportion??0,"decimal")),1)):(r(),i("span",z,"0")),f("% ")])]),o("div",A,[v(O,{gutter:24},{default:d((()=>[v(N,{span:12,class:"text-right"},{default:d((()=>[f(y(t.$t("visitVisitor.pv")),1)])),_:1}),v(N,{span:12},{default:d((()=>[f(y(T.value.pvCount),1)])),_:1})])),_:1}),v(O,{gutter:24},{default:d((()=>[v(N,{span:12,class:"text-right"},{default:d((()=>[f(y(t.$t("visitVisitor.uv")),1)])),_:1}),v(N,{span:12},{default:d((()=>[f(y(T.value.uvCount),1)])),_:1})])),_:1}),v(O,{gutter:24},{default:d((()=>[v(N,{span:12,class:"text-right"},{default:d((()=>[f(y(t.$t("visit.bounceRate")),1)])),_:1}),v(N,{span:12},{default:d((()=>[T.value.uvCount>0?(r(),i("span",E,y(t.$n(100*T.value.bounceCount/T.value.uvCount,"decimal"))+"%",1)):(r(),i("span",F,"-"))])),_:1})])),_:1}),v(O,{gutter:24},{default:d((()=>[v(N,{span:12,class:"text-right"},{default:d((()=>[f(y(t.$t("visit.averageDuration")),1)])),_:1}),v(N,{span:12},{default:d((()=>[Q.value.uvCount>0?(r(),i("span",G,y(m(u).duration(T.value.duration/T.value.uvCount,"seconds").format("HH:mm:ss")),1)):(r(),i("span",J,"-"))])),_:1})])),_:1}),v(O,{gutter:24},{default:d((()=>[v(N,{span:12,class:"text-right"},{default:d((()=>[f(y(t.$t("visit.averagePv")),1)])),_:1}),v(N,{span:12},{default:d((()=>[T.value.uvCount>0?(r(),i("span",K,y(t.$n(T.value.pvCount/T.value.uvCount,"decimal")),1)):(r(),i("span",L,"-"))])),_:1})])),_:1})])])])])])}}}))}}}));
